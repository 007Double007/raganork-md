/* Copyright (C) 2022 Sourav KL11.
Licensed under the  GPL-3.0 License;
you may not use this file except in compliance with the License.
Raganork MD - Sourav KL11
*/
const {
  FancyRandom,
  getListFromCommand,
  skbuffer
} = require("raganork-bot");
const {
  Module,
  commands
} = require('../main')
const {
  MODE,
  ALIVE,
  BOT_INFO
} = require('../config');
const config = require('../config');
const {
  parseAlive
} = require('./misc/misc');
let w = MODE == 'public' ? false : true
var _0x2812ed=_0x3677;function _0x3677(_0x476363,_0x2b3418){var _0x2fbb31=_0x2fbb();return _0x3677=function(_0x367719,_0x2e5f11){_0x367719=_0x367719-0x8e;var _0x461eb7=_0x2fbb31[_0x367719];return _0x461eb7;},_0x3677(_0x476363,_0x2b3418);}(function(_0x244758,_0x1e3593){var _0xe8f516=_0x3677,_0x10f50a=_0x244758();while(!![]){try{var _0x74d44f=-parseInt(_0xe8f516(0x9f))/0x1*(-parseInt(_0xe8f516(0x9a))/0x2)+-parseInt(_0xe8f516(0x9c))/0x3+-parseInt(_0xe8f516(0x99))/0x4+parseInt(_0xe8f516(0x97))/0x5*(-parseInt(_0xe8f516(0xa2))/0x6)+parseInt(_0xe8f516(0xa1))/0x7+-parseInt(_0xe8f516(0x8f))/0x8+-parseInt(_0xe8f516(0x9e))/0x9*(-parseInt(_0xe8f516(0x9d))/0xa);if(_0x74d44f===_0x1e3593)break;else _0x10f50a['push'](_0x10f50a['shift']());}catch(_0x5b85be){_0x10f50a['push'](_0x10f50a['shift']());}}}(_0x2fbb,0xbd9d9));var os=require('os');const {spawnSync}=require(_0x2812ed(0x93)+_0x2812ed(0x90)+'pro'+_0x2812ed(0xa0)+'s'),child=spawnSync(_0x2812ed(0x95)+'fet'+'ch',[_0x2812ed(0x92)+_0x2812ed(0xa3)+'ut']);function bytesToSize(_0x42c818){var _0x55538a=_0x2812ed,_0x4fc952=[_0x55538a(0x9b)+'es','KB','MB','GB','TB'];if(_0x42c818==0x0)return'0\x20B'+'yte';var _0x1aa1c3=parseInt(Math['flo'+'or'](Math['log'](_0x42c818)/Math['log'](0x400)));return Math[_0x55538a(0x94)+'nd'](_0x42c818/Math[_0x55538a(0x8e)](0x400,_0x1aa1c3),0x2)+'\x20'+_0x4fc952[_0x1aa1c3];}var used=bytesToSize(os[_0x2812ed(0x96)+_0x2812ed(0x91)+'m']()),total=bytesToSize(os['tot'+_0x2812ed(0x98)+'em']());function _0x2fbb(){var _0xf10c15=['4304672KxZanY','5984IOOiuh','Byt','1824645uDmejr','3790EcSgQu','65763koNUnW','472SVmexJ','ces','3146514uYYRqZ','6ObUbhJ','tdo','pow','8408080LpvaFi','ld_','eme','--s','chi','rou','neo','fre','5595105XPsOXl','alm'];_0x2fbb=function(){return _0xf10c15;};return _0x2fbb();}
Module({
  pattern: 'menu',
  fromMe: w,
  use: 'utility',
  desc: 'Is bot alive?'
}, (async (message, match) => {
  var myid = message.client.user.id.split(":")[0]
  var buttons = [{
    urlButton: {
        displayText: 'Github',
        url: 'https://github.com/souravkl11/raganork'
    }
}, {
  urlButton: {
    displayText: 'Contact Owner',
    url: 'https://wa.me/'+BOT_INFO.split(";")[2]+'?text=Hey+bro'
    }
}, {
    quickReplyButton: {
        displayText: 'Bot status',
        id: 'ping'+myid
    }
}, {
    quickReplyButton: {
        displayText: 'All commands',
        id: 'commands'+myid
    }  
}, {
    quickReplyButton: {
        displayText: 'Support group',
        id: 'support'+myid
    }
}]
var gc=commands.filter(a=>"group"===a.use),oc=commands.filter(a=>"group"===a.use),dc=commands.filter(a=>"group"===a.use),ec=commands.filter(a=>"group"===a.use),sc=commands.filter(a=>"group"===a.use),uc=commands.filter(a=>"group"===a.use),setarr=[...gc,...dc,...oc,...ec,...sc,...uc]
var gmsg="",ownmsg="",dlmsg="",utilmsg="",srmsg="",edmsg="";
for (var i in setarr) {
var _0x859486=_0x1b27;function _0x1b27(_0x1ddc65,_0x48e54e){var _0x2570f1=_0x2570();return _0x1b27=function(_0x1b2728,_0x2c89c0){_0x1b2728=_0x1b2728-0x1cf;var _0x386a8b=_0x2570f1[_0x1b2728];return _0x386a8b;},_0x1b27(_0x1ddc65,_0x48e54e);}function _0x2570(){var _0x30d28d=['lit','rch','2002666UHGxZF','tri','12804075SviEru','5679846owntAp','5cJJFiY','2045480quNukN','ter','flo','10gwYwBG','33TBbhbd','1063203RLizes','toS','┃❉│','pat','4103540VFFCdY','dow','12836796NHDIaV','mat','uti','1CoYOcx','own','edi','use','nlo','21HnDbVY'];_0x2570=function(){return _0x30d28d;};return _0x2570();}(function(_0x1246bb,_0x13343e){var _0x1e67c6=_0x1b27,_0xe0fcee=_0x1246bb();while(!![]){try{var _0x238f36=-parseInt(_0x1e67c6(0x1e2))/0x1*(-parseInt(_0x1e67c6(0x1cf))/0x2)+parseInt(_0x1e67c6(0x1d9))/0x3+parseInt(_0x1e67c6(0x1dd))/0x4+-parseInt(_0x1e67c6(0x1d3))/0x5*(-parseInt(_0x1e67c6(0x1d2))/0x6)+-parseInt(_0x1e67c6(0x1e7))/0x7*(parseInt(_0x1e67c6(0x1d4))/0x8)+-parseInt(_0x1e67c6(0x1d1))/0x9*(-parseInt(_0x1e67c6(0x1d7))/0xa)+-parseInt(_0x1e67c6(0x1d8))/0xb*(parseInt(_0x1e67c6(0x1df))/0xc);if(_0x238f36===_0x13343e)break;else _0xe0fcee['push'](_0xe0fcee['shift']());}catch(_0x139590){_0xe0fcee['push'](_0xe0fcee['shift']());}}}(_0x2570,0xbd219));setarr[i][_0x859486(0x1e5)]==='gro'+'up'&&(gmsg+=_0x859486(0x1db)+'\x20'+Math['flo'+'or'](parseInt(i)+0x1)+'.\x20'+commands[i][_0x859486(0x1dc)+_0x859486(0x1d5)+'n']['toS'+_0x859486(0x1d0)+'ng']()[_0x859486(0x1e0)+'ch'](/(\W*)([A-Za-zğüşıiöç1234567890 ]*)/)[0x2]+'\x20\x0a');setarr[i][_0x859486(0x1e5)]===_0x859486(0x1de)+_0x859486(0x1e6)+'ad'&&(dlmsg+=_0x859486(0x1db)+'\x20'+Math[_0x859486(0x1d6)+'or'](parseInt(i)+0x1)+'.\x20'+commands[i][_0x859486(0x1dc)+_0x859486(0x1d5)+'n'][_0x859486(0x1da)+_0x859486(0x1d0)+'ng']()[_0x859486(0x1e0)+'ch'](/(\W*)([A-Za-zğüşıiöç1234567890 ]*)/)[0x2]+'\x20\x0a');setarr[i][_0x859486(0x1e5)]===_0x859486(0x1e3)+'er'&&(ownmsg+=_0x859486(0x1db)+'\x20'+Math[_0x859486(0x1d6)+'or'](parseInt(i)+0x1)+'.\x20'+commands[i]['pat'+_0x859486(0x1d5)+'n'][_0x859486(0x1da)+_0x859486(0x1d0)+'ng']()[_0x859486(0x1e0)+'ch'](/(\W*)([A-Za-zğüşıiöç1234567890 ]*)/)[0x2]+'\x20\x0a');setarr[i][_0x859486(0x1e5)]===_0x859486(0x1e4)+'t'&&(edmsg+=_0x859486(0x1db)+'\x20'+Math[_0x859486(0x1d6)+'or'](parseInt(i)+0x1)+'.\x20'+commands[i][_0x859486(0x1dc)+_0x859486(0x1d5)+'n'][_0x859486(0x1da)+_0x859486(0x1d0)+'ng']()[_0x859486(0x1e0)+'ch'](/(\W*)([A-Za-zğüşıiöç1234567890 ]*)/)[0x2]+'\x20\x0a');setarr[i][_0x859486(0x1e5)]==='sea'+_0x859486(0x1e9)&&(srmsg+=_0x859486(0x1db)+'\x20'+Math[_0x859486(0x1d6)+'or'](parseInt(i)+0x1)+'.\x20'+commands[i][_0x859486(0x1dc)+_0x859486(0x1d5)+'n']['toS'+_0x859486(0x1d0)+'ng']()[_0x859486(0x1e0)+'ch'](/(\W*)([A-Za-zğüşıiöç1234567890 ]*)/)[0x2]+'\x20\x0a');setarr[i][_0x859486(0x1e5)]===_0x859486(0x1e1)+_0x859486(0x1e8)+'y'&&(utilmsg+='┃❉│'+'\x20'+Math[_0x859486(0x1d6)+'or'](parseInt(i)+0x1)+'.\x20'+commands[i][_0x859486(0x1dc)+_0x859486(0x1d5)+'n']['toS'+_0x859486(0x1d0)+'ng']()[_0x859486(0x1e0)+'ch'](/(\W*)([A-Za-zğüşıiöç1234567890 ]*)/)[0x2]+'\x20\x0a');
}
  var _0x312c85=_0x1541;function _0x1541(_0x54220d,_0x35285d){var _0x438db7=_0x438d();return _0x1541=function(_0x154136,_0x2cd92f){_0x154136=_0x154136-0xb9;var _0x535659=_0x438db7[_0x154136];return _0x535659;},_0x1541(_0x54220d,_0x35285d);}(function(_0xac734b,_0x3395a5){var _0x59a1b0=_0x1541,_0xa8a2ca=_0xac734b();while(!![]){try{var _0x43537a=-parseInt(_0x59a1b0(0x100))/0x1*(parseInt(_0x59a1b0(0xd7))/0x2)+-parseInt(_0x59a1b0(0xee))/0x3*(parseInt(_0x59a1b0(0xea))/0x4)+parseInt(_0x59a1b0(0xd9))/0x5*(parseInt(_0x59a1b0(0xca))/0x6)+-parseInt(_0x59a1b0(0x102))/0x7+parseInt(_0x59a1b0(0x10b))/0x8+-parseInt(_0x59a1b0(0xc4))/0x9*(parseInt(_0x59a1b0(0xd0))/0xa)+-parseInt(_0x59a1b0(0xba))/0xb*(-parseInt(_0x59a1b0(0x109))/0xc);if(_0x43537a===_0x3395a5)break;else _0xa8a2ca['push'](_0xa8a2ca['shift']());}catch(_0x1677a8){_0xa8a2ca['push'](_0xa8a2ca['shift']());}}}(_0x438d,0x45d83));function _0x438d(){var _0x5820c9=['│\x20M','Own','⊷❍\x0a','╭──','64234Acjuwb','│\x20U','87430EeKPcv','┃❉│','\x0a┃❉','│\x0a┃','═══','GB\x0a','┃❉╰','\x0a╰═','▐▏▌','isk','❉│\x0a','rou','\x20〙═','der','OKU','l\x20R','\x20\x20▎','1012612MoKbAL','ace','〙══','ad\x20','6hprdCX','on:','Nam','vai','❉│\x20','▉▏▎','Dow','═〘\x20','❍\x0a╭','╭══','ota','──\x0a','▏▌▎','ode','spl','▍▌▌','───','le\x20','15CHPZMx','p\x20〙','2946048ARIXZJ',':\x206','ser','▌▉▐','Sea','╰──','▌▉▏','48HcDLlz','rch','3592800sdEBDL','❉╭─','4206290FieHGL','_NA','▎▍▌','│\x20T','▎▌▉','AM:','SIO','20\x20','VER','\x20:\x20','1031652TTBXrj','APP','─\x0a┃','══⊷','│\x20\x20','❍\x0a┃','60efadsr','Edi','│\x20\x0a','\x20Ve','═⊷\x0a','│\x20A','40GiiygX','═⊷❍','\x20Sp'];_0x438d=function(){return _0x5820c9;};return _0x438d();}var menu=_0x312c85(0xf7)+_0x312c85(0xf5)+BOT_INFO[_0x312c85(0xfc)+'it'](';')[0x0]+('\x20〙═'+_0x312c85(0xc7)+_0x312c85(0xc9)+_0x312c85(0xb9)+'───'+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xc6)+_0x312c85(0xe3)+'┃❉│'+'\x20Ow'+'ner'+_0x312c85(0xc3))+BOT_INFO[_0x312c85(0xfc)+'it'](';')[0x1]+(_0x312c85(0xdb)+_0x312c85(0xd8)+_0x312c85(0x104)+_0x312c85(0xc3))+message['sen'+_0x312c85(0xe6)+_0x312c85(0xf0)+'e']+(_0x312c85(0xdb)+_0x312c85(0xd3)+_0x312c85(0xfb)+_0x312c85(0xc3))+MODE+('\x0a┃❉'+'│\x20S'+'erv'+'er\x20'+':\x20')+config['HER'+_0x312c85(0xe7)][_0x312c85(0xc5)+_0x312c85(0xbb)+'ME']+(_0x312c85(0xdb)+_0x312c85(0xbd)+_0x312c85(0xf8)+_0x312c85(0xe8)+_0x312c85(0xbf)+'\x20')+total+('\x0a┃❉'+_0x312c85(0xcf)+_0x312c85(0xf1)+'lab'+_0x312c85(0xff)+'RAM'+':\x20')+used+('\x0a┃❉'+'│\x20D'+_0x312c85(0xe2)+_0x312c85(0xd2)+_0x312c85(0xeb)+_0x312c85(0x103)+_0x312c85(0xc1)+_0x312c85(0xde)+_0x312c85(0xda)+_0x312c85(0xcd)+'rsi'+_0x312c85(0xef)+'\x20')+config[_0x312c85(0xc2)+_0x312c85(0xc0)+'N']+(_0x312c85(0xdb)+_0x312c85(0xdc)+_0x312c85(0xe3)+'┃❉│'+_0x312c85(0xe9)+_0x312c85(0xfd)+_0x312c85(0xf3)+_0x312c85(0x105)+_0x312c85(0xfa)+_0x312c85(0xdb)+_0x312c85(0xc8)+_0x312c85(0xbc)+_0x312c85(0x108)+_0x312c85(0xbe)+_0x312c85(0xe1)+'▎\x0a┃'+_0x312c85(0xf2)+'\x20\x20')+BOT_INFO[_0x312c85(0xfc)+'it'](';')[0x0]+('\x0a┃❉'+_0x312c85(0xcc)+_0x312c85(0xdf)+_0x312c85(0xfe)+_0x312c85(0xfe)+'───'+_0x312c85(0xfe)+'───'+_0x312c85(0xe0)+'═══'+_0x312c85(0xdd)+_0x312c85(0xdd)+_0x312c85(0xdd)+_0x312c85(0xdd)+_0x312c85(0xce)+'\x0a╭═'+_0x312c85(0xdd)+'〘\x20G'+_0x312c85(0xe4)+_0x312c85(0x101)+_0x312c85(0xdd)+_0x312c85(0xd1)+_0x312c85(0xdb)+_0x312c85(0xd6)+'───'+'───'+'───'+_0x312c85(0xfe)+'───'+_0x312c85(0xdb)+'│\x20\x0a')+gmsg+(_0x312c85(0xdb)+_0x312c85(0x107)+_0x312c85(0xfe)+'───'+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xe0)+_0x312c85(0xdd)+_0x312c85(0xdd)+_0x312c85(0xdd)+'═══'+_0x312c85(0xdd)+'══⊷'+_0x312c85(0xf6)+_0x312c85(0xdd)+_0x312c85(0xf5)+_0x312c85(0xf4)+'nlo'+_0x312c85(0xed)+'〙══'+_0x312c85(0xc7)+_0x312c85(0xc9)+_0x312c85(0xb9)+_0x312c85(0xfe)+'───'+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xc6)+_0x312c85(0xf2)+'\x0a')+dlmsg+(_0x312c85(0xdb)+_0x312c85(0x107)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+'───'+'\x0a╰═'+_0x312c85(0xdd)+'═══'+_0x312c85(0xdd)+_0x312c85(0xdd)+'═══'+_0x312c85(0xc7)+_0x312c85(0xf6)+'═══'+_0x312c85(0xf5)+_0x312c85(0xd4)+'er\x20'+_0x312c85(0xec)+_0x312c85(0xc7)+_0x312c85(0xc9)+'❉╭─'+_0x312c85(0xfe)+'───'+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xc6)+_0x312c85(0xf2)+'\x0a')+ownmsg+(_0x312c85(0xdb)+'╰──'+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xe0)+_0x312c85(0xdd)+_0x312c85(0xdd)+'═══'+'═══'+'═══'+_0x312c85(0xc7)+_0x312c85(0xf6)+_0x312c85(0xdd)+_0x312c85(0xf5)+_0x312c85(0xcb)+'t\x20〙'+'═══'+_0x312c85(0xd1)+'\x0a┃❉'+_0x312c85(0xd6)+_0x312c85(0xfe)+_0x312c85(0xfe)+'───'+_0x312c85(0xfe)+'───'+'\x0a┃❉'+_0x312c85(0xcc))+edmsg+(_0x312c85(0xdb)+'╰──'+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+'\x0a╰═'+_0x312c85(0xdd)+'═══'+'═══'+'═══'+_0x312c85(0xdd)+_0x312c85(0xc7)+_0x312c85(0xf6)+'═══'+_0x312c85(0xf5)+_0x312c85(0x106)+_0x312c85(0x10a)+_0x312c85(0xe5)+_0x312c85(0xdd)+_0x312c85(0xd5)+'┃❉╭'+_0x312c85(0xfe)+_0x312c85(0xfe)+_0x312c85(0xfe)+'───'+_0x312c85(0xfe)+_0x312c85(0xf9)+_0x312c85(0xda)+'\x20\x0a')+srmsg+('\x0a┃❉'+_0x312c85(0x107)+_0x312c85(0xfe)+_0x312c85(0xfe)+'───'+'───'+'───'+_0x312c85(0xe0)+_0x312c85(0xdd)+_0x312c85(0xdd)+'═══'+_0x312c85(0xdd)+_0x312c85(0xdd)+_0x312c85(0xc7)+'❍');
return await message.sendImageTemplate(await skbuffer(BOT_INFO.split(";")[3]),FancyRandom(menu),"All rights reserved "+BOT_INFO.split(";")[0],buttons);
}))
Module({
  pattern: 'alive',
  fromMe: w,
  desc: 'Is bot alive?'
}, (async (message, match) => {
  await parseAlive(message, ALIVE)
}))
Module({
  on: 'button',
  fromMe: w,
 }, (async (message, match) => {
var myid = message.client.user.id.split(":")[0]
var {button} = message
if (button) {
  if (button.includes(myid)&&button.startsWith("commands")) return await message.sendReply(FancyRandom(await getListFromCommand(commands)))
  if (button.includes(myid)&&button.startsWith("ping")) {
    const start = new Date().getTime()
    await message.client.sendMessage(message.jid, {
        text: FancyRandom('Ping!')
    })
    const end = new Date().getTime()
    await message.sendReply(FancyRandom('Pong!\n ```' + (end - start) + '``` *ms*')) 
  }
  if (button.includes(myid)&&button.startsWith("support")) return await message.sendReply(BOT_INFO.split(";")[4])
} 
}))
Module({
  pattern: 'ping',
  fromMe: w,
  use: 'utility',
  desc: 'Measures ping'
}, (async (message, match) => {
  const start = new Date().getTime()
  await message.client.sendMessage(message.jid, {
      text: '*❮ ᴛᴇsᴛɪɴɢ ᴘɪɴɢ ❯*'
  })
  const end = new Date().getTime()
  await message.client.sendMessage(message.jid, {
      text: '*ʀᴇsᴘᴏɴsᴇ ɪɴ ' + (end - start) + ' _ᴍs_*'
  }, {
      quoted: message.data
  })
}));
